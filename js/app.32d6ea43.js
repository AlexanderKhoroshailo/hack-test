(function(){"use strict";var t={4244:function(t,e,i){var s=i(144),n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("MainContent")],1)},a=[],o=function(){var t=this,e=t._self._c;return e("section",{staticClass:"container"},[e("div",{staticClass:"form"},[e("div",{staticClass:"form_item"},[e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.price,expression:"price",modifiers:{number:!0}}],staticClass:"form_item-input",attrs:{min:"0",name:"price",type:"number",pattern:"([0-9]{1,2}).([0-9]{1})"},domProps:{value:t.price},on:{input:[function(e){e.target.composing||(t.price=t._n(e.target.value))},function(e){return t.debounce(t.setPrice,300)}],blur:function(e){return t.$forceUpdate()}}}),e("label",{staticClass:"form_item-label",attrs:{for:"price"}},[t._v("Цена: "+t._s(t.price))])]),e("div",{staticClass:"form_item"},[e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.qty,expression:"qty",modifiers:{number:!0}}],staticClass:"form_item-input",attrs:{min:"0",name:"qty",type:"number",pattern:"([0-9]{1,2}).([0-9]{1})"},domProps:{value:t.qty},on:{input:[function(e){e.target.composing||(t.qty=t._n(e.target.value))},function(e){return t.debounce(t.setQty,300)}],blur:function(e){return t.$forceUpdate()}}}),e("label",{staticClass:"form_item-label",attrs:{for:"qty"}},[t._v("Кол-во: "+t._s(t.qty))])]),e("div",{staticClass:"form_item"},[e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.amount,expression:"amount",modifiers:{number:!0}}],staticClass:"form_item-input",attrs:{name:"amount",min:"0",type:"number",pattern:"([0-9]{1,2}).([0-9]{1})"},domProps:{value:t.amount},on:{input:[function(e){e.target.composing||(t.amount=t._n(e.target.value))},function(e){return t.debounce(t.setAmount,300)}],blur:function(e){return t.$forceUpdate()}}}),e("label",{staticClass:"form_item-label",attrs:{for:"amount"}},[t._v("Сумма: "+t._s(t.amount))])]),e("div",{staticClass:"form_item"},[e("button",{staticClass:"form_item-input btn",attrs:{type:"button",name:"name",disabled:t.isDisabled},on:{click:t.toSendData}},[t._v(" Отправить данные ")]),e("label",{attrs:{for:"name"}},[t._v("localStorage: "+t._s(t.result))])]),e("div",{staticClass:"form_item"},[e("button",{staticClass:"form_item-input btn",attrs:{type:"button",name:"name"},on:{click:t.toCleanList}},[t._v(" Очистить список ")])])]),e("div",{staticClass:"info"},[e("ul",{staticClass:"info_reverse"},t._l(t.eventStack,(function(i,s){return e("li",{key:s,staticClass:"info_item"},[t._v(" "+t._s(i)+" ")])})),0)])])},r=[];i(560);const c=t=>new Promise((e=>{setTimeout((()=>{t.amount%2===0?(Object.keys(t).forEach((e=>{localStorage.setItem(`${e}`,t[e])})),e({success:!0})):e({success:!1})}),1e3)}));var u={name:"MainContent",data(){return{inputType:null,amount:null,price:null,qty:null,nonce:localStorage.getItem("nonce")?localStorage.getItem("nonce"):0,result:this.getLocalData(),eventStack:[],debouncer:null}},computed:{isDisabled(){return!this.amount||!this.qty||!this.price}},methods:{getLocalData(){return JSON.stringify({nonce:localStorage.getItem("nonce"),price:localStorage.getItem("price"),qty:localStorage.getItem("qty"),amount:localStorage.getItem("amount")})},setPrice(){if(this.price)if(this.amount&&this.qty&&this.price)switch(this.inputType){case"amount":this.amount=this.price*this.qty,this.qty=this.amount/this.price,this.eventStack.push(`изменение цены => ${this.price},изменение суммы => ${this.amount},изменение кол-ва => ${this.qty}`);break;case"qty":this.qty=this.amount/this.price,this.amount=this.price*this.qty,this.eventStack.push(`изменение цены => ${this.price},изменение кол-ва => ${this.qty},изменение суммы => ${this.amount}`);break;default:this.amount=this.price*this.qty,this.qty=this.amount/this.price,this.eventStack.push(`изменение цены => ${this.price},изменение суммы => ${this.amount},изменение кол-ва => ${this.qty}`);break}else this.qty&&!this.amount&&this.price?(this.amount=this.price*this.qty,this.eventStack.push(`изменение цены => ${this.price},изменение суммы => ${this.amount}`)):!this.qty&&this.amount&&this.price&&(this.qty=this.amount/this.price,this.eventStack.push(`изменение цены => ${this.price},изменение кол-ва => ${this.qty}`));else this.price=null,this.amount=null,this.qty=null,this.eventStack.push("обнуление цены, кол-ва и суммы");!this.price||this.qty||this.amount||this.eventStack.push(`изменение цены => ${this.price}`),this.inputType="price"},setQty(){if(this.qty)if(this.price&&this.amount)switch(this.inputType){case"amount":this.amount=this.qty*this.price,this.price=this.amount/this.qty,this.eventStack.push(`изменение кол-ва => ${this.qty},изменение суммы => ${this.amount},изменение цены => ${this.price}`);break;case"price":this.price=this.amount/this.qty,this.amount=this.qty*this.price,this.eventStack.push(`изменение кол-ва => ${this.qty},изменение цены => ${this.price},изменение суммы => ${this.amount}`);break;default:this.amount=this.qty*this.price,this.price=this.amount/this.qty,this.eventStack.push(`изменение кол-ва => ${this.qty},изменение суммы => ${this.amount},изменение цены => ${this.price}`);break}else this.price&&!this.amount&&this.qty?(this.amount=this.price*this.qty,this.eventStack.push(`изменение кол-ва => ${this.qty},изменение суммы => ${this.amount}`)):!this.price&&this.amount&&this.qty&&(this.price=this.amount/this.qty,this.eventStack.push(`изменение кол-ва => ${this.qty},изменение цены => ${this.price}`));else this.price=null,this.amount=null,this.qty=null,this.eventStack.push("обнуление цены, кол-ва и суммы");this.price||!this.qty||this.amount||this.eventStack.push(`изменение кол-ва => ${this.qty}`),this.inputType="qty"},setAmount(){if(this.amount)if(this.price&&this.qty)switch(this.inputType){case"price":this.price=this.amount/this.qty,this.qty=this.amount/this.price,this.eventStack.push(`изменение суммы => ${this.amount},изменение цены => ${this.price},изменение кол-ва => ${this.qty}`);break;case"qty":this.qty=this.amount/this.price,this.price=this.amount/this.qty,this.eventStack.push(`изменение суммы => ${this.amount},изменение кол-ва => ${this.qty},изменение цены => ${this.price}`);break;default:this.price=this.amount/this.qty,this.qty=this.amount/this.price,this.eventStack.push(`изменение суммы => ${this.amount},изменение цены => ${this.price},изменение кол-ва => ${this.qty}`);break}else this.price&&!this.qty&&this.amount?(this.qty=this.amount/this.price,this.eventStack.push(`изменение суммы => ${this.amount},изменение кол-ва => ${this.qty}`)):!this.price&&this.qty&&this.amount&&(this.price=this.amount/this.qty,this.eventStack.push(`изменение суммы => ${this.amount},изменение цены => ${this.price}`));else this.price=null,this.amount=null,this.qty=null,this.eventStack.push("обнуление цены, кол-ва и суммы");this.price||this.qty||!this.amount||this.eventStack.push(`изменение суммы => ${this.amount}`),this.inputType="amount"},toCleanList(){this.eventStack=[]},async toSendData(){const t={nonce:++this.nonce,price:this.price,qty:this.qty,amount:this.amount};this.eventStack.push(`отправлены данные => nonce: ${this.nonce}, цена: ${this.price}, кол-во: ${this.qty}, сумма: ${this.amount} \n | данные в localStorage => nonce: ${localStorage.getItem("nonce")}, цена: ${localStorage.getItem("price")}, кол-во: ${localStorage.getItem("qty")}, сумма: ${localStorage.getItem("amount")}`),await c(t).then((t=>{this.eventStack.push(`получен ответ от сервера ${JSON.stringify(t)}\n | данные в localStorage => nonce: ${localStorage.getItem("nonce")}, цена: ${localStorage.getItem("price")}, кол-во: ${localStorage.getItem("qty")}, сумма: ${localStorage.getItem("amount")}`),t.success&&(this.result=this.getLocalData())}))},debounce(t,e=300){this.debouncer&&clearTimeout(this.debouncer),this.debouncer=setTimeout(t,e)}}},h=u,m=i(1001),l=(0,m.Z)(h,o,r,!1,null,"3d25ae58",null),p=l.exports,y={name:"App",components:{MainContent:p}},f=y,v=(0,m.Z)(f,n,a,!1,null,null,null),q=v.exports,d=i(629);s.ZP.use(d.ZP);const $=new d.ZP.Store({state:{nonce:0,price:null,qty:null,amount:null},getters:{getNonce(t){return t.nonce},getPrice(t){return t.price},getQty(t){return t.qty},getAmount(t){return t.amount}},mutations:{setNonce(t,e){t.nonce=e},setPrice(t,e){t.price=e},setQty(t,e){t.qty=e},setAmount(t,e){t.amount=e}},actions:{sendData({commit:t},e){return new Promise((i=>{setTimeout((()=>{e.amount%2===0?(Object.keys(e).forEach((i=>{t(`set${i.charAt(0).toUpperCase()+i.slice(1)}`,e[i])})),i({success:!0})):i({success:!1})}),1e3)}))}}});var b=$;s.ZP.config.productionTip=!1,new s.ZP({store:b,render:t=>t(q)}).$mount("#app")}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var a=e[s]={exports:{}};return t[s].call(a.exports,a,a.exports,i),a.exports}i.m=t,function(){var t=[];i.O=function(e,s,n,a){if(!s){var o=1/0;for(h=0;h<t.length;h++){s=t[h][0],n=t[h][1],a=t[h][2];for(var r=!0,c=0;c<s.length;c++)(!1&a||o>=a)&&Object.keys(i.O).every((function(t){return i.O[t](s[c])}))?s.splice(c--,1):(r=!1,a<o&&(o=a));if(r){t.splice(h--,1);var u=n();void 0!==u&&(e=u)}}return e}a=a||0;for(var h=t.length;h>0&&t[h-1][2]>a;h--)t[h]=t[h-1];t[h]=[s,n,a]}}(),function(){i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,s){var n,a,o=s[0],r=s[1],c=s[2],u=0;if(o.some((function(e){return 0!==t[e]}))){for(n in r)i.o(r,n)&&(i.m[n]=r[n]);if(c)var h=c(i)}for(e&&e(s);u<o.length;u++)a=o[u],i.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return i.O(h)},s=self["webpackChunkhack"]=self["webpackChunkhack"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(4244)}));s=i.O(s)})();
//# sourceMappingURL=app.32d6ea43.js.map